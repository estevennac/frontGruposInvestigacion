<div class="cont">
  <div class="container-fluid">
    <div class="card">
      <h2>Investigadores por País</h2>
      <canvas id="usuariosPorPaisChart"></canvas>

      <h2>Resumen de Investigadores</h2>

      <!-- Tabla: Por Grado Académico -->
      <h3>Por Grado Académico</h3>
      <table mat-table [dataSource]="dataSourceGrado" class="mat-elevation-z8 custom-table">
        <!-- Columna: Grado Académico -->
        <ng-container matColumnDef="grado">
          <th mat-header-cell *matHeaderCellDef> Grado Académico </th>
          <td mat-cell *matCellDef="let item"> {{ item.key }} </td>
        </ng-container>

        <!-- Columna: Número de Integrantes -->
        <ng-container matColumnDef="numero">
          <th mat-header-cell *matHeaderCellDef> Número </th>
          <td mat-cell *matCellDef="let item"> {{ item.value }} </td>
        </ng-container>

        <!-- Fila de encabezado -->
        <tr mat-header-row *matHeaderRowDef="['grado', 'numero']"></tr>

        <!-- Filas de datos -->
        <tr mat-row *matRowDef="let row; columns: ['grado', 'numero'];"></tr>

        <!-- Fila de Total General -->
        <tr class="total-row">
          <td><strong>Total General</strong></td>
          <td><strong>{{ getTotal(usuariosPorGrado) }}</strong></td>
        </tr>
      </table>

      <!-- Tabla: Por Departamento -->
      <h3>Por Departamento</h3>
      <table mat-table [dataSource]="dataSourceDepartamento" class="mat-elevation-z8 custom-table">
        <!-- Columna: Departamento -->
        <ng-container matColumnDef="departamento">
          <th mat-header-cell *matHeaderCellDef> Departamento </th>
          <td mat-cell *matCellDef="let item"> {{ item.key }} </td>
        </ng-container>

        <!-- Columna: Número de Integrantes -->
        <ng-container matColumnDef="numero">
          <th mat-header-cell *matHeaderCellDef> Número </th>
          <td mat-cell *matCellDef="let item"> {{ item.value }} </td>
        </ng-container>

        <!-- Fila de encabezado -->
        <tr mat-header-row *matHeaderRowDef="['departamento', 'numero']"></tr>

        <!-- Filas de datos -->
        <tr mat-row *matRowDef="let row; columns: ['departamento', 'numero'];"></tr>

        <!-- Fila de Total General -->
        <tr class="total-row">
          <td><strong>Total General</strong></td>
          <td><strong>{{ getTotal(usuariosPorDepartamento) }}</strong></td>
        </tr>
      </table>

      <!-- Tabla: Por Género -->
      <h3>Por Género</h3>
      <table mat-table [dataSource]="dataSourceGenero" class="mat-elevation-z8 custom-table">
        <!-- Columna: Género -->
        <ng-container matColumnDef="genero">
          <th mat-header-cell *matHeaderCellDef> Género </th>
          <td mat-cell *matCellDef="let item"> {{ item.key }} </td>
        </ng-container>

        <!-- Columna: Número de Integrantes -->
        <ng-container matColumnDef="numero">
          <th mat-header-cell *matHeaderCellDef> Número </th>
          <td mat-cell *matCellDef="let item"> {{ item.value }} </td>
        </ng-container>

        <!-- Fila de encabezado -->
        <tr mat-header-row *matHeaderRowDef="['genero', 'numero']"></tr>

        <!-- Filas de datos -->
        <tr mat-row *matRowDef="let row; columns: ['genero', 'numero'];"></tr>

        <!-- Fila de Total General -->
        <tr class="total-row">
          <td><strong>Total General</strong></td>
          <td><strong>{{ getTotal(usuariosPorGenero) }}</strong></td>
        </tr>
      </table>
    </div>
  </div>
</div>